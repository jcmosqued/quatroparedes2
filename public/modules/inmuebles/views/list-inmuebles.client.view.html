<section data-ng-controller="InmueblesController" data-ng-init="find()">
<div class="col-md-12 background-image page-header"><br>
  <!--Sección de botones-->
  <div class="col-lg-12 col-md-12 col-sm-12 btn-group btn-group-justified" role="group" aria-label="...">
    <div class="btn-group" role="group">
            <a class="btn btn-default" href="/#!/politicas"><FONT FACE="arial" SIZE=2 COLOR="gray"> Políticas </FONT>
            </a>
        </div>

    <div class="btn-group" role="group">
            <a class="btn btn-default" href="/#!/politicas"><FONT FACE="arial" SIZE=2 COLOR="gray"> Comprar </FONT>
            </a>
        </div>

        <div class="btn-group" role="group">
            <a class="btn btn-default" href="/#!/politicas"><FONT FACE="arial" SIZE=2 COLOR="gray"> Servicios </FONT>
            </a>
        </div>

        <div class="btn-group" role="group">
            <a class="btn btn-default" href="/#!/politicas"><FONT FACE="arial" SIZE=2 COLOR="gray"> Formas de Pago </FONT>
            </a>
        </div>

        <div class="btn-group" role="group">
            <a class="btn btn-default" href="/#!/politicas"><FONT FACE="arial" SIZE=2 COLOR="gray">¿Cómo Compro?</FONT>
            </a>
        </div>

  </div><br> <br>
<div class="row">
    <div class="col-md-4"><br>
      <img src="modules/core/img/Logo1.png" width="300px" height="150px">
    </div>

     <div class="col-md-4 sombra2 text-center"><br>
      <h1></h1>
     </div><br>
     <!--fin Carusel-->

    <div class="col-md-1 texttrans" ><br>
    
      <a href="/#!/inmuebles" ng-click="setTransaccion('Venta')">   
      Venta</font>

      </a>
     </div>
    
    <div class="col-md-1 texttrans"><br>
      <a href="/#!/inmuebles" ng-click="setTransaccion('Renta')">   
      Renta
      </a>
     </div>
          
      <div class="col-md-1 texttrans"><br>
      <a href="/#!/inmuebles" ng-click="setTransaccion('Traspaso')">   
      Traspaso
      </a>
     </div>
   </div>
  </div>


    <!-- Filtros personalizados -->
    <div class="col-md-3">
        <h4>Buscar por:</h4>
        
        <label>Tipo de inmueble: <br>
            <select ng-model="categoriaActual" class="form-control">
                <option value=""></option>
                <option value="Casa">Casa</option>
                <option value="Departamento">Departamento</option>
                <option value="Oficina">Oficina</option>
                <option value="Penthouse">Penthouse</option>
                <option value="Loft">Loft</option>
                <option value="Terreno">Terreno</option>
                <option value="Bodega">Bodega</option>
                <option value="Local">Local</option>
                <option value="Otros">Otros</option>
            </select>
        </label><br>

        <label>Tipo de transacción:<br>
            <select ng-model="transaccionActual" class="form-control">
                <option value=""></option>
                <option value="Venta">Venta</option>
                <option value="Renta">Renta</option>
                <option value="Traspaso">Traspaso</option>
            </select>
        </label><br>
        
        <label class="control-label" for="estado">* Estado:<br>
        <select data-ng-model="estado" ng-options="state as state.valor for state in estados" id="estado" class="form-control">
        </select>
        </label> <br>


        <label class="control-label" for="ciudad">* Ciudad:<br>
        <select data-ng-model="ciudad" ng-options="city as city.nombre for city in estado.ciudades" id="ciudad" class="form-control">
        </select>
        </label><br>


        <label>Zona: <br>
            <select ng-model="Zona" class="form-control">
                <option value="Norte">Norte</option>
                <option value="Sur">Sur</option>
                <option value="Centro">Centro</option>
                <option value="Este">Este</option>
                <option value="Oeste">Oeste</option>
            </select>
        </label><br>
        </label>
        <label>Precio: <br>
            <input ng-model="Precio">
        </label>
        <label>No. de plantas: <br>
            <input type="number" ng-model="noPlantas" min="1">
        </label> <br>
        <br>

        <!--sección publicidad-->
          <div class="col-md-2"><br>
            <iframe src="modules/inmuebles/publicidad1.html" 
             width="250px" height="300px" marginwidth="0" scrolling="yes" frameborder="0" >
            </iframe><br><br>

            <iframe src="modules/inmuebles/publicidad2.html" 
           width="250px" height="300px" marginwidth="0" scrolling="yes" frameborder="0"></iframe>

           <iframe src="modules/inmuebles/publicidad3.html" 
           width="250px" height="300px" marginwidth="0" scrolling="yes" frameborder="0"></iframe>


          </div><br>
        <!-- fin de seccion de publicidad -->

    </div>

    <!-- Inmuebles -->
    <h4>Mostrando {{(inmuebles | filter:{tipo_inmueble: categoriaActual,  tipo_trans: transaccionActual, precio:Precio, estado: estado.valor, ciudad: ciudad.nombre, zona: Zona, no_plantas: noPlantas}).length}} de {{inmuebles.length}} registros con tus criterios de búsqueda</h4>
    <div class="col-md-9">
        <div class="col-md-4" data-ng-repeat="inmueble in inmuebles | filter :{tipo_inmueble: categoriaActual,  tipo_trans: transaccionActual, no_plantas: noPlantas, estado: estado.valor, ciudad: ciudad.nombre, zona: Zona, precio:Precio, no_plantas: noPlantas} | orderBy:['-tipoDestacado', '-user.tipo']">

        <table data-ng-show="inmueble.user.estatus==='activo'"><br>
            <tr class="img-thumbnail">        <!-- Sección ícono destacado-->
                 <div class="col-md-12  text-lefth capa2" data-ng-hide="inmueble.tipoDestacado==0">
                    <img src="modules/core/img/ListonD.png" width="80%" height="60px">
                  </div><br>          
                <td style="width: 240px; height:425px;">
                <br>    

                    <div class="text-center" >  
                     

                        <FONT FACE="arial" SIZE=2 COLOR="gray">
                            Publicado por:<br>
                            <span data-ng-bind="inmueble.user.displayName"></span>
                        
                        </FONT>
                        <img ng-src="data:image/jpg;base64,{{inmueble.image.base64}}" id="photo-id" width="100%" height="200"/>


                        <FONT FACE="arial" SIZE=2 COLOR="white" >
                        <h5 class="list-group-item" data-ng-bind="inmueble.titulo"> 
                        </h5>
                        </FONT>

                        <FONT FACE="arial" SIZE=2 COLOR="gray">
                        Tipo de inmueble: {{inmueble.tipo_inmueble}} <br> 
                        Precio: {{inmueble.precio | currency}} <br>
                        </FONT>
                
                        <div class="coll-sm-12">
                           
                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" >
                               <a ng-click="showModal(inmueble)"><font color="#000">Ver Más</font>
                               </a>
                            </div>

                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="((authentication.user) && (authentication.user._id == inmueble.user._id))">
                               <a data-ng-href="#!/inmuebles/{{inmueble._id}}/edit"><font color="#000">Editar</font>
                               </a>
                            </div>
                        </div>

                        <div class="coll-sm-12">
                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="inmueble.user.tipo==='pagosite'">

                                <a data-ng-href="#!/inmuebles/{{inmueble._id}}"><font color="#000">Ver Sitio</font>
                                </a>
                            </div>

                            <div class="col-sm-6 botonNaranja botonNaranja-naranja" data-ng-show="inmueble.user.tipo==='pagosite'">

                                <a data-ng-href="#!/inmuebles/{{inmueble._id}}"><font color="#000">Compartir</font>
                                </a>
                            </div>
                        </div>
                        

                      <div class="col-sm-12">
                      
                      </div> 

                    </div> <!--  -->
                </td>
            </tr>
        </table>
        </div>
    </div>

    
<!--mensaje que se envía cuando no existen registros-->
<div class="alert alert-warning text-center" data-ng-hide="!inmuebles.$resolved || inmuebles.length">
   No Inmuebles yet, why don't you <a href="/#!/inmuebles/create">create one</a>?
</div>

</section>